"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[70],{9070:(e,t,a)=>{a.r(t),a.d(t,{default:()=>u});var r=a(7757),i=a.n(r),s=a(2561);function o(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function n(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function l(e,t,a,r,i,s,o){try{var n=e[s](o),l=n.value}catch(e){return void a(e)}n.done?t(l):Promise.resolve(l).then(r,i)}function d(e){return function(){var t=this,a=arguments;return new Promise((function(r,i){var s=e.apply(t,a);function o(e){l(s,r,i,o,n,"next",e)}function n(e){l(s,r,i,o,n,"throw",e)}o(void 0)}))}}var c,f;const v={name:"profil",data:function(){return{profile:[],profileDate:{name:"",email:"",password:"",password_confirmation:""},editProfileData:{},errors:{}}},mounted:function(){this.loadProfile()},methods:{loadProfile:(f=d(i().mark((function e(){var t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,localStorage.getItem("turkai-token"),e.next=4,(0,s.d)().get("/auth/profile");case 4:t=e.sent,this.profile=t.data,e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),this.flashMessage.error({message:"Some error occured, Please refresh",time:5e3});case 11:case"end":return e.stop()}}),e,this,[[0,8]])}))),function(){return f.apply(this,arguments)}),hideEditProfileModal:function(){this.$refs.editProfileModal.hide()},showEditProfileModal:function(){this.$refs.editProfileModal.show()},editProfile:function(e){this.editProfileData=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?o(Object(a),!0).forEach((function(t){n(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):o(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},e),this.showEditProfileModal()},updateProfile:(c=d(i().mark((function e(){var t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{(t=new FormData).append("name",this.editProfileData.name),t.append("email",this.editProfileData.email),t.append("password",this.editProfileData.password),t.append("_method","put"),a=this.editProfileData.id,r=t,(0,s.d)().post("/auth/profile/".concat(a),r),this.loadProfile(),this.hideEditProfileModal(),this.flashMessage.success({message:"Profil güncellendi",time:5e3})}catch(e){this.flashMessage.error({message:e.response.data.message,time:5e3})}case 1:case"end":return e.stop()}var a,r}),e,this)}))),function(){return c.apply(this,arguments)})}};const u=(0,a(1900).Z)(v,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container-fluid"},[a("ol",{staticClass:"breadcrumb"},[a("li",{staticClass:"breadcrumb-item active"},[a("b",[e._v("Sayın, "+e._s(e.profile.name))])])]),e._v(" "),a("div",{staticClass:"card mb-3"},[a("div",{staticClass:"card-header d-flex"},[e._m(0),e._v(" "),a("button",{staticClass:"btn btn-primary btn-sm ml-auto",on:{click:function(t){return e.editProfile(e.profile)}}},[a("span",{staticClass:"fa fa-plus"}),e._v(" Bilgilerinizi Güncelleyin")])]),e._v(" "),a("div",{staticClass:"card-body"},[a("table",{staticClass:"table"},[a("tbody",[a("tr",[a("td",[e._v("Adı Soyadı")]),e._v(" "),a("td",[e._v(":")]),e._v(" "),a("td",[e._v(e._s(e.profile.name))])]),e._v(" "),a("tr",[a("td",[e._v("Email Adresi")]),e._v(" "),a("td",[e._v(":")]),e._v(" "),a("td",[e._v(e._s(e.profile.email))])])])])])]),e._v(" "),a("div",{staticClass:"card mb-3"},[e._m(1),e._v(" "),a("div",{staticClass:"card-body"},[a("table",{staticClass:"table"},[a("tbody",[a("tr",[a("td",[e._v("Öğrenci Adı Soyadı")]),e._v(" "),a("td",[e._v(":")]),e._v(" "),a("td",[e._v(e._s(e.profile[0].name))])]),e._v(" "),a("tr",[a("td",[e._v("Bölümü")]),e._v(" "),a("td",[e._v(":")]),e._v(" "),a("td",[e._v(e._s(e.profile[0].section))])]),e._v(" "),a("tr",[a("td",[e._v("Sınıfı")]),e._v(" "),a("td",[e._v(":")]),e._v(" "),a("td",[e._v(e._s(e.profile[0].section_class))])]),e._v(" "),a("tr",[a("td",[e._v("Öğrenci Numarası")]),e._v(" "),a("td",[e._v(":")]),e._v(" "),a("td",[e._v(e._s(e.profile[0].student_number))])])])])])]),e._v(" "),a("b-modal",{ref:"editProfileModal",attrs:{"hide-footer":"",title:"Profil Güncelle"}},[a("div",{staticClass:"d-block"},[a("form",{on:{submit:function(t){return t.preventDefault(),e.updateProfile.apply(null,arguments)}}},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"name"}},[e._v("Adınız Soyadınız ")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.editProfileData.name,expression:"editProfileData.name"}],staticClass:"form-control",attrs:{type:"text",id:"name"},domProps:{value:e.editProfileData.name},on:{input:function(t){t.target.composing||e.$set(e.editProfileData,"name",t.target.value)}}}),e._v(" "),e.errors.name?a("div",{staticClass:"invalid-feedback"},[e._v(e._s(e.errors.name[0]))]):e._e()]),e._v(" "),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"email"}},[e._v("Email Adresiniz")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.editProfileData.email,expression:"editProfileData.email"}],staticClass:"form-control",attrs:{type:"email",id:"email"},domProps:{value:e.editProfileData.email},on:{input:function(t){t.target.composing||e.$set(e.editProfileData,"email",t.target.value)}}}),e._v(" "),e.errors.email?a("div",{staticClass:"invalid-feedback"},[e._v(e._s(e.errors.email[0]))]):e._e()]),e._v(" "),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"password"}},[e._v("Şifreniz")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.editProfileData.password,expression:"editProfileData.password"}],staticClass:"form-control",attrs:{type:"password",id:"password"},domProps:{value:e.editProfileData.password},on:{input:function(t){t.target.composing||e.$set(e.editProfileData,"password",t.target.value)}}}),e._v(" "),e.errors.password?a("div",{staticClass:"invalid-feedback"},[e._v(e._s(e.errors.password[0]))]):e._e()]),e._v(" "),a("hr"),e._v(" "),a("div",{staticClass:"text-right"},[a("button",{staticClass:"btn btn-info",attrs:{type:"button"},on:{click:e.hideEditProfileModal}},[e._v("Vazgeç")]),e._v(" "),a("button",{staticClass:"btn btn-primary",attrs:{type:"submit"}},[a("span",{staticClass:"fa fa-check"}),e._v(" Güncelle")])])])])])],1)}),[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("span",[a("i",{staticClass:"fa fa-area-chart"}),e._v(" Üye Bilgileriniz")])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"card-header d-flex"},[a("span",[a("i",{staticClass:"fa fa-area-chart"}),e._v(" Öğrenci Bilgileriniz")])])}],!1,null,null,null).exports}}]);